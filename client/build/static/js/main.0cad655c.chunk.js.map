{"version":3,"sources":["components/loader/loader.module.css","context/AuthContext.js","hooks/http.hook.js","hooks/message.hook.js","components/loader/Loader.jsx","components/auth/Auth.jsx","components/Todos/Todos.jsx","components/navbar/Navbar.jsx","hooks/auth.hook.js","App.js","routes/routes.js","reportWebVitals.js","index.js","components/Todos/todos.module.css"],"names":["module","exports","AuthContext","createContext","token","userId","login","logout","isAuthenticated","useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useMessage","text","window","M","toast","html","Loader","className","s","ldsEllipsis","PasswordInput","setForm","form","id","type","name","onChange","event","target","value","htmlFor","EmailInput","RegisterButton","registerHandler","onClick","LoginButton","loginHandler","console","log","Auth","auth","useContext","email","password","useEffect","Tasks","todos","setTodos","jwtToken","deleteTaskHandler","Authorization","completeTaskHandler","isCompleted","row","length","map","todo","todoItem","checkboxLabel","disabled","completedCheckbox","checked","_id","completed","todoText","deleteButton","AddTask","setText","addTaskHandler","storage","localStorage","getItem","parse","owner","addTask","e","Todos","fetchData","container","loader","Navbar","require","useAuth","storageName","setJwtToken","setUserId","setItem","removeItem","App","routes","path","to","exact","useRoutes","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0cad655c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsEllipsis\":\"loader_ldsEllipsis__ZVw9y\",\"ldsEllipsis1\":\"loader_ldsEllipsis1__KGlAT\",\"ldsEllipsis2\":\"loader_ldsEllipsis2__2_ANZ\",\"ldsEllipsis3\":\"loader_ldsEllipsis3__3Bx_w\"};","import {createContext} from \"react\";\nconst AuthContext = createContext({\n    token: null,\n    userId: null,\n    login: () => {\n    },\n    logout: () => {\n    },\n    isAuthenticated: false,\n})\n\nexport default AuthContext","import {useCallback, useState} from \"react\";\n\nexport const useHttp = () => {\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n\n    const request = useCallback(async (url, method=\"GET\", body = null, headers = {}) => {\n        try {\n            setLoading(true)\n            if(body) {\n                body = JSON.stringify(body)\n                headers['Content-Type'] = 'application/json'\n            }\n            const response = await fetch(url, {method, body, headers})\n            const data = await response.json()\n            if (!response.ok) {\n                throw new Error(data.message || 'Что-то пошло не так')\n            }\n            setLoading(false)\n\n            return data\n        } catch (e) {\n            setLoading(false)\n            setError(e.message)\n            throw e\n        }\n    }, [])\n    const clearError = useCallback(() => setError(null), [])\n\n    return { loading, request, error, clearError }\n}","import {useCallback} from 'react'\n\nexport const useMessage = () => {\n    return useCallback(text => {\n        if (window.M && text) {\n            window.M.toast({ html: text })\n        }\n    }, [])\n}","import s from './loader.module.css'\n\nconst Loader = (className = \"\") => {\n    return (\n        <div className={`${s.ldsEllipsis} ${className}`}>\n            <div></div>\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>\n    )\n};\n\nexport default Loader;","import {useContext, useEffect, useState} from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\nimport {useHttp} from \"../../hooks/http.hook\";\nimport {useMessage} from \"../../hooks/message.hook\";\nimport Loader from \"../loader/Loader\";\n\nconst Auth = () => {\n    const auth = useContext(AuthContext)\n    const {loading, request, error, clearError} = useHttp()\n    const message = useMessage()\n    const [form, setForm] = useState({\n        email: '',\n        password: ''\n    })\n\n    useEffect(() => {\n        message(error)\n        clearError()\n    }, [error, message, clearError])\n\n\n    return (<>\n            <div className=\"row\">\n                <div className=\"col s12 m6\">\n                    <div className=\"card blue-grey darken-1\">\n                        <div className=\"card-content white-text\">\n                            {loading ?  <Loader/> : null}\n                            <PasswordInput  setForm={setForm} form={form} />\n                            <EmailInput setForm={setForm} form={form}/>\n                        </div>\n                        <div className=\"card-action\">\n                            <RegisterButton  message={message} request={request} form={form}/>\n                            <LoginButton  message={message} request={request} form={form} login={auth.login}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\nconst PasswordInput = ({setForm, form}) => {\n    const changeHandler = event => {\n        setForm({...form, [event.target.name]: event.target.value})\n    }\n    return (\n        <>\n            <span className=\"card-title\">Register</span>\n            <div className=\"row\">\n                <div className=\"input-field col s12\">\n                    <input id=\"password\"\n                           type=\"password\"\n                           className=\"validate\"\n                           name=\"password\"\n                           onChange={changeHandler}\n                    />\n                    <label htmlFor=\"password\">Password</label>\n                </div>\n            </div>\n        </>\n    )\n}\nconst EmailInput = ({setForm, form}) => {\n    const changeHandler = event => {\n        setForm({...form, [event.target.name]: event.target.value})\n    }\n    return (\n        <div className=\"row\">\n            <div className=\"input-field col s12\">\n                <input\n                    id=\"email\"\n                    type=\"text\"\n                    className=\"validate\"\n                    name=\"email\"\n                    onChange={changeHandler}\n                />\n                <label htmlFor=\"email\">Email</label>\n            </div>\n        </div>\n    )\n}\nconst RegisterButton = ({request, form, message}) => {\n    const registerHandler = async () => {\n        try {\n            const data = await request('/api/auth/register', 'POST', {...form})\n            message(data.message)\n        } catch (e) {\n        }\n    }\n    return (\n        <button\n            className=\"btn blue darken-4\"\n            onClick={registerHandler}\n        >\n            Register\n        </button>\n    )\n}\nconst LoginButton = ({request, form, login, message}) => {\n\n    const loginHandler = async () => {\n        try {\n            const data = await request('/api/auth/login', 'POST', {...form})\n            login(data.token, data.userId)\n            message(\"Login is success\")\n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n\n    return (\n        <button\n            className=\"btn blue darken-4\"\n            onClick={loginHandler}\n        >\n            Login\n        </button>\n    );\n};\n\n\nexport default Auth;","import React, {useContext, useEffect, useState} from 'react';\nimport AuthContext from \"../../context/AuthContext\";\nimport {useHttp} from \"../../hooks/http.hook\";\nimport {useMessage} from \"../../hooks/message.hook\";\nimport s from './todos.module.css'\nimport Loader from \"../loader/Loader\";\nconst Todos = () => {\n    // const auth = useContext(AuthContext)\n    const {loading, request} = useHttp()\n    const {jwtToken} = useContext(AuthContext)\n\n\n    const [todos, setTodos] = useState([])\n\n    useEffect(() => {\n        let fetchData = async () => {\n            const data = await request(`/api/todo/`, \"GET\", null, {\n                Authorization: `Bearer ${jwtToken}`\n            })\n            setTodos(data)\n        }\n        fetchData()\n\n    }, [jwtToken, request])\n\n\n\n\n    return (\n        <>\n\n        <div className={`${s.container}`}>\n            <div className={s.loader}> {loading ? <Loader /> : null} </div>\n            <AddTask todos={todos}     setTodos={setTodos}  request={request} />\n            <Tasks todos={todos}   loading={loading} setTodos={setTodos} request={request}/>\n        </div>\n        </>\n\n    );\n};\nconst Tasks = ({ todos,  setTodos, request , loading }) => {\n    const message = useMessage()\n    const {jwtToken} = useContext(AuthContext)\n\n    const deleteTaskHandler = async (id) => {\n        const data = await request(`/api/todo/delete/${id}`, \"DELETE\", null, {\n            Authorization: `Bearer ${jwtToken}`\n        })\n        setTodos(data.todos)\n        message(data.message)\n    }\n    const completeTaskHandler = async (id, isCompleted) => {\n        const data = await request(`/api/todo/update/${id}`, \"PUT\", {\n            isCompleted:  !isCompleted\n        }, {\n            Authorization: `Bearer ${jwtToken}`\n        })\n        setTodos( data.todos)\n        message(data.message)\n    }\n    console.log(loading)\n    return (\n        <div className={`${s.row}` }>\n            { todos.length? todos.map((todo) => {\n                return (\n                    <div className={`teal lighten-2 ${s.row } ${s.todoItem}` } key={todo._id}>\n                        <label className={s.checkboxLabel}>\n                            <input disabled={loading} className={s.completedCheckbox} type=\"checkbox\"  checked={todo.isCompleted} onChange={() => completeTaskHandler(todo._id, todo.isCompleted)}/>\n                            <span></span>\n                        </label>\n\n                        <span className={`${todo.isCompleted ? s.completed : \"\"} ${s.todoText}`}> {todo.text }</span>\n                        <button disabled={loading} className={`right ${s.deleteButton}`} onClick={() => deleteTaskHandler(todo._id)}> X</button>\n                    </div>)\n            }) : <div> You have no tasks yet</div>\n            }\n        </div>\n    )\n}\nconst AddTask = ({todos,  setTodos, request}) => {\n    const message = useMessage()\n    const {jwtToken} = useContext(AuthContext)\n    const [text, setText] = useState('')\n\n\n    const addTaskHandler = async () => {\n        try {\n            const storage = localStorage.getItem(\"userData\")\n            const userId = JSON.parse(storage).userId\n            const data = await request('/api/todo/create', \"POST\", {text, owner: userId}, {\n                Authorization: `Bearer ${jwtToken}`\n            })\n            console.log(data.message)\n\n            message(data.message)\n            setTodos([...todos, data.todo])\n            setText('')\n        } catch (e) {\n            message(e)\n        }\n    }\n    return (\n        <div className={`input-field  ${s.addTask}`}>\n            <input   id=\"addTask\" type=\"text\" className={`validate`} value={text} onChange={e => setText(e.target.value)}/>\n            {/*<label htmlFor=\"addTask\">Добавить таск</label>*/}\n            <button disabled={!text} className=\"waves-effect waves-light btn\" onClick={addTaskHandler}>Add task</button>\n        </div>\n    )\n}\nexport default Todos;","import AuthContext from \"../../context/AuthContext\";\nimport {useContext} from \"react\";\nimport {useMessage} from \"../../hooks/message.hook\";\n\nconst Navbar = () => {\n    const auth = useContext(AuthContext)\n    const message = useMessage()\n\n    const logoutHandler = () => {\n        auth.logout();\n        message(\"Logout is success\")\n    }\n    return (\n        <nav>\n            <div className=\"nav-wrapper teal lighten-2\">\n                <ul id=\"nav-mobile\" className=\"left hide-on-med-and-down\">\n                    <a className=\"waves-effect waves-light btn blue-grey darken-1\" onClick={logoutHandler} > logout </a>\n                </ul>\n            </div>\n        </nav>\n    );\n};\n\nexport default Navbar;","import {useEffect} from \"react\";\n\nconst {useCallback} = require(\"react\");\nconst {useState} = require(\"react\");\nconst useAuth = () => {\n    const storageName = \"userData\"\n    const [jwtToken, setJwtToken] = useState(null)\n    const [userId, setUserId] = useState(null)\n    const login = useCallback((jwtToken, id) => {\n        setJwtToken(jwtToken)\n        setUserId(id)\n        localStorage.setItem(storageName, JSON.stringify({\n            jwtToken: jwtToken,userId: id\n        }))\n    }, [])\n    const logout  = useCallback(() => {\n        setJwtToken(null)\n        setUserId(null)\n        localStorage.removeItem(storageName)\n    }, [])\n    useEffect(() => {\n        const data = JSON.parse(localStorage.getItem(storageName))\n        if (data && data.jwtToken) {\n            login(data.jwtToken, data.userId)\n        }\n    }, [login])\nreturn { login, logout, jwtToken, userId}\n}\nexport default useAuth","import 'materialize-css'\nimport AuthContext from \"./context/AuthContext\";\nimport {useRoutes} from \"./routes/routes\";\nimport useAuth from \"./hooks/auth.hook\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\nfunction App() {\n    const {jwtToken, login, logout, userId} = useAuth()\n    const isAuthenticated = !!jwtToken\n    const routes = useRoutes(isAuthenticated)\n\n    return (\n        <BrowserRouter>\n             <AuthContext.Provider value={{jwtToken, login, logout, userId}}>\n                <div>\n                    {routes}\n                </div>\n            </AuthContext.Provider>\n        </BrowserRouter>\n\n    );\n}\n\nexport default App;\n","import {Switch, Route, Redirect} from 'react-router-dom'\nimport Auth from \"../components/auth/Auth\";\nimport Todos from \"../components/Todos/Todos\";\nimport Navbar from \"../components/navbar/Navbar\";\n\nexport const useRoutes = isAuthenticated => {\n    if (isAuthenticated) {\n        return (\n            <Switch>\n                <Route path=\"/todos\">\n                    <Navbar />\n                    <Todos />\n                </Route>\n                <Redirect to=\"/todos\" />\n            </Switch>\n        )\n    }\n    return (\n        <Switch>\n            <Route path=\"/\" exact>\n                <Auth/>\n            </Route>\n            <Redirect to=\"/\"/>\n        </Switch>\n    )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n                <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n;\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todoItem\":\"todos_todoItem__MRCBn\",\"row\":\"todos_row__3iedy\",\"addTask\":\"todos_addTask__2mQDd\",\"container\":\"todos_container__3YyAR\",\"deleteButton\":\"todos_deleteButton__SjkN7\",\"todoText\":\"todos_todoText__1A1n4\",\"completed\":\"todos_completed__3SuJa\",\"completedCheckbox\":\"todos_completedCheckbox__1UWN3\",\"checkboxLabel\":\"todos_checkboxLabel__1fB5M\",\"loader\":\"todos_loader__2UkOq\",\"disabled\":\"todos_disabled__1e6Lm\"};"],"sourceRoot":""}